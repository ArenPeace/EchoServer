# 痛苦压测ffmpeg
2019-10-31  
使用ffmpeg做生成视频文件的缩略图，做压测时，对于少量样本，没有泄露，但是当样本扩大到全磁盘的各种格式、来源的视频，一直有内存泄漏，不管怎么调整几个函数的使用。  
ffmpeg的api混乱，推荐的用法也是不清楚的。  
考虑到视频格式的多样、视频文件来源的多样，ffmpeg要处理各种合法的非法的视频文件，稍有异常没有被处理，就会导致缩略图异常、内存泄漏、甚至程序崩溃。对于稳定性要求高的程序，最好把ffmpeg相关部分做成另一个程序服务隔离起来。  

# 一点疑问
2018-05-31  
挂载文件，一个cpu发指令写，另一个cpu发指令读取，会产生访问冲突么


